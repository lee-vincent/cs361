<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>imgsrv</title>
</head>

<body>
    <img id="image" src="./images/1.jpg" alt="Your Image Description">
    <script>
    const sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))
    const imgService = './image-service.txt';
    // const base = "file://wsl.localhost/rhel9/home/vlee/repos/cs361/assignment-2/images/"
    const base = "./images/"
    const suffix = ".jpg"

    const fs = require('fs');

        // Specify the path to the file you want to read
        const filePath = 'path/to/your/local/file.txt';

        // Read the file asynchronously
        fs.readFile(filePath, 'utf8', (err, data) => {
            if (err) {
                console.error('Error reading the file:', err);
                return;
            }

            // The file content is in the 'data' variable
            console.log('File content:', data);
        });

    async function repeatedGreetingsLoop() {
        let i = 1;
        while (true) {
            await sleepNow(1000)
            const imageElement = document.getElementById('image');
            const result = `${base}${i}${suffix}`;
            console.log(result)
            i=i+1;
            imageElement.src = result
        }
    }

    repeatedGreetingsLoop()                //  start the loop
    </script>
</body>

</html>
